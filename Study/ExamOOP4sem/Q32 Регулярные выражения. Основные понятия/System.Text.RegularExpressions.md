Основная функциональность [[Регулярные выражения|регулярных выражений]] в [[Платформа .Net.]] сосредоточена в [[Пространства имен|пространстве имен]] `System.Text.RegularExpressions`. А центральным [[Классы и объекты|классом]] при работе с регулярными выражениями является класс `Regex`.

```cs
using System.Text.RegularExpressions;
 
string s = "Бык тупогуб, тупогубенький бычок, у быка губа бела была тупа";
Regex regex = new Regex(@"туп(\w*)");
MatchCollection matches = regex.Matches(s);
if (matches.Count > 0)
{
    foreach (Match match in matches)
        Console.WriteLine(match.Value);
}
else
{
    Console.WriteLine("Совпадений не найдено");
}
```

Метод `Matches` класса `Regex` принимает строку, к которой надо применить регулярные выражения, и возвращает [[Коллекции|коллекцию]] найденных совпадений.

Каждый элемент такой коллекции представляет объект `Match`. Его свойство `Value` возвращает найденное совпадение.

### *Параметр RegexOptions*

Класс Regex имеет ряд [[Конструкторы|конструкторов]], позволяющих выполнить начальную инициализацию объекта. Две версии конструкторов в качестве одного из параметров принимают перечисление `RegexOptions`. Некоторые из значений, принимаемых данным перечислением:

|**Член**|**Описание**|
|---|---|
|CultureInvariant|Предписывает игнорировать национальные установки строки|
|ExplicitCapture|Модифицирует способ поиска соответствия, обеспечивая только буквальное соответствие|
|IgnoreCase|Игнорирует регистр символов во входной строке|
|IgnorePatternWhitespace|Удаляет из строки не защищенные управляющими символами пробелы и разрешает комментарии, начинающиеся со знака фунта или хеша|
|Multiline|Изменяет значение символов ^ и $ так, что они применяются к началу и концу каждой строки, а не только к началу и концу всего входного текста|
|RightToLeft|Предписывает читать входную строку справа налево вместо направления по умолчанию — слева направо (что удобно для некоторых азиатских и других языков, которые читаются в таком направлении)|
|Singleline|Специфицирует однострочный режим, в котором точка (.) символизирует соответствие любому символу|
### *Проверка на соответствие строки формату*

Класс `Regex` предоставляет статический метод `IsMatch`, который позволяет проверить входную строку с шаблоном на соответствие

```cs
using System.Text.RegularExpressions;
 
string pattern = @"^(?("")(""[^""]+?""@)|(([0-9a-z]((\.(?!\.))|[-!#\$%&'\*\+/=\?\^`\{\}\|~\w])*)(?<=[0-9a-z])@))" +
                @"(?(\[)(\[(\d{1,3}\.){3}\d{1,3}\])|(([0-9a-z][-\w]*[0-9a-z]*\.)+[a-z0-9]{2,17}))$";
var data = new string[]
{
    "tom@gmail.com",
    "+12345678999",
    "bob@yahoo.com",
    "+13435465566",
    "sam@yandex.ru",
    "+43743989393"
};
 
Console.WriteLine("Email List");
for(int i = 0; i < data.Length; i++)
{
    if (Regex.IsMatch(data[i], pattern, RegexOptions.IgnoreCase))
    {
        Console.WriteLine(data[i]);
    }
}
```
### *Замена и метод Replace*

Класс `Regex` имеет метод `Replace`, который позволяет заменить строку, соответствующую регулярному выражению, другой строкой:

```cs
string text = "Мама  мыла  раму. ";
string pattern = @"\s+";
string target = " ";
Regex regex = new Regex(pattern);
string result = regex.Replace(text, target);
Console.WriteLine(result);
```
