# **Ссылочные типы** 
— это типы, в переменных которых хранятся ссылки на объекты, а не сами данные (данные хранятся в куче)

- Тип `object`
- Тип `string`
- [[Классы и объекты|Классы]] `class`
- [[Интерфейсы в CS|Интерфейсы]] `interface`
- [[Делегаты]] `delegate`

### *1. Тип object*

^ba6907

# **Тип `object`** 
— встроенный тип данных, являющийся родителем для всех типов

Все классы в [[Платформа .Net.]], а также [[Основные типы данных|базовые типы]], являются неявно производными от класса `Object`. Даже если мы не указываем класс `Object` в качестве базового, по умолчанию неявно класс `Object` все равно стоит на вершине иерархии наследования. Поэтому все типы и классы могут реализовать те методы, которые определены в классе` System.Object` .
#### ***ToString***

Метод `ToString` служит для получения строкового представления данного объекта. Для базовых типов просто будет выводиться их строковое значение. 

Для классов же этот метод выводит полное название класса с указанием пространства имен, в котором определен этот класс. И мы можем переопределить данный метод.

#### ***GetHashCode***

Метод `GetHashCode` позволяет возвратить некоторое числовое значение, которое будет соответствовать данному объекту или его хэш-код.

#### ***GetType***

Метод GetType позволяет получить тип данного объекта. Этот метод возвращает объект `Type`, то есть тип объекта. 

Причем поскольку класс `Object` является базовым типом для всех классов, то мы можем переменной типа object присвоить объект любого типа. Однако для этой переменной метод `GetType` все равно вернет тот тип, на объект которого ссылается переменная.

> [!warning]
> Этот метод нельзя переопределить

#### ***Equals***

Метод `Equals` позволяет сравнить два объекта на равенство. Если метод не переопределен в классе, то будут сравниваться ссылки на объекты.

### *2. Тип string*

# **Тип `string`**
— это встроенный тип данных , предназначенный для хранения и работы с текстовой информацией. Он представляет собой последовательность символов (char) , заключённых в двойные кавычки.

`string greeting = "Привет, мир!";`

#### *Основные особенности типа `string`:*

1. ***Неизменяемость (immutability)***

Одна из ключевых особенностей строки — она неизменна . Это значит, что ***при попытке изменить строку создаётся новый объект*** в памяти.


```cs
string s1 = "Привет";
s1 += ", студент!"; // Создаётся новая строка, s1 ссылается на неё
```

После этой операции в памяти будет два объекта : `"Привет"` и `"Привет, студент!"`.

> [!warning]
> Это важно учитывать с точки зрения производительности при частых изменениях строк


2. ***Поддержка интерполяции строк***

В современных версиях C# можно использовать интерполяцию строк , которая делает код чище и понятнее.
```cs
string name = "Иван";
int age = 20;
string info = $"Имя: {name}, Возраст: {age}";
Console.WriteLine(info);
// Вывод: Имя: Иван, Возраст: 20
```

3. ***Сравнение строк по значению***

В отличие от других объектов, сравнение строк в C# происходит по значению , а не по ссылке.

Это работает благодаря перегрузке оператора == для типа `string`.


4. ***Строки могут быть null или пустыми***

- `null` — означает, что переменная не ссылается ни на какой объект .
- `""` — пустая строка (объект существует, но не содержит символов).
- `string.Empty` — то же самое, что и `""`, но более явное представление.